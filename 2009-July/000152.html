<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [EasyFlash-devel] Steil bergauf
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/easyflash-devel/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:easyflash-devel%40lists.berlios.de?Subject=Re%3A%20%5BEasyFlash-devel%5D%20Steil%20bergauf&In-Reply-To=%3C3cdcf94b0907201547s797bf5f4wd852e6278be3110a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000151.html">
   <LINK REL="Next"  HREF="000153.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[EasyFlash-devel] Steil bergauf</H1>
    <B>ALeX Kazik</B> 
    <A HREF="mailto:easyflash-devel%40lists.berlios.de?Subject=Re%3A%20%5BEasyFlash-devel%5D%20Steil%20bergauf&In-Reply-To=%3C3cdcf94b0907201547s797bf5f4wd852e6278be3110a%40mail.gmail.com%3E"
       TITLE="[EasyFlash-devel] Steil bergauf">alex at kazik.de
       </A><BR>
    <I>Tue Jul 21 00:47:05 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000151.html">[EasyFlash-devel] Steil bergauf
</A></li>
        <LI>Next message: <A HREF="000153.html">[EasyFlash-devel] Steil bergauf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#152">[ date ]</a>
              <a href="thread.html#152">[ thread ]</a>
              <a href="subject.html#152">[ subject ]</a>
              <a href="author.html#152">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

&gt;<i> Da h&#228;tte ich noch einen kleinen Einwand. In Thomas seiner Beispiel-Routine aus dem SDK verwendet er direkte Einspr&#252;nge z.B. f&#252;r die Initialisierung der IO-Bausteine im Kernal. Zu guter Letzt springt er noch zum Ausf&#252;hren des Resets direkt an eine Adresse ($FCE2). Generell wird das sicherlich in 99,9% der F&#228;llen auch funktionieren. Was ist jedoch, wenn im C64 oder auch C128 ein anderes Kernal verbaut ist? Oder gar das Kernal defekt ist? (z.B. f&#252;r Nicolas sein Diagnose-Modul) Dann k&#246;nnte es Probleme geben. Daher w&#252;rde ich gerne solche &quot;Mitnutzung&quot; von Ressourcen versuchen zu vermeiden. Die IO-Initialisierung nachzuprogrammieren sollte nicht das Problem sein, um die Tastatur abzufragen. Und den Reset-Sprung k&#246;nnte man auch ordentlich von Adresse $FFFC lesen. Damit w&#252;rde das Modul auch auf nicht 100% kompatiblen customisierten Rechnern laufen. Klar, ist etwas mehr Aufwand, aber noch h&#228;ndelbar und bringt einiges! ;-)
</I>
also ich hatte eigentlich vor komplett ohne kernal auzsukommen
(schafft der EasyLoader ja auch).
und am ende ein &quot;JMP ($FFFC)&quot;.

&gt;<i> Evtl. sollte man sogar noch abfragen, ob der Reset-Vektor an Adresse $FFFC wirklich sinnvoll ist (sollte im Kernal selbst E000-FFFF liegen und High- bzw. Low-Byte verschieden sein, evtl. sogar auf sinnvolle OP-Codes 78-SEI, 9A-TXS und D8-CLD n Bytes ab dem Vektor suchen). Im MAX gibt es kein Kernal. Dort wurde es einen Absturz geben, wenn man eine Taste dr&#252;ckt. Besser w&#228;re eine Fehlermeldung:
</I>&gt;<i>
</I>&gt;<i> No BASIC ROMs found, System halted!
</I>
also bei einem 16k ultimax modul koennte der reset vector auch nach
$8000-$9fff zeigen!

ich glaube fuer meinen ersten versuch sollte es reichen, wenn ich den
vektor nicht genauer untersuche.

(das haelt auch das programm klein, welches ja das EasyFileSystem verkleinert).

Ah, ein problem habe ich mit dem EasyLoader (von wegen
initialisierung) doch: nach manchen spielen ist der hintergrund und
rahmenfarbe fix, und ich kann sie nicht aendern, obwohl ich den
kompletten VIC (register) initialisiere - alles andere geht (modi,
sprites, ...) wenn man dann aber in's basic wechselt repariert er das
auch - aber ich weiss noch nicht wie, den dann baue ich's selber ein.

@Thomas: in zeile 103 sollte es bestimmt &quot;lda #$7f&quot; (statt &quot;lda $7f&quot;) heissen.
@Thomas: ich werde &quot;cmp #$ff&quot; anstelle von &quot;tax,inx&quot; nehmen, ist
klarer ersichtlich, gleich lang und sogar einen cycle schneller.

einige sachen habt ohr ja mittlerweile auch schon gemailt... aber da
ich sie schon geschrieben hatte (nur nicht vollendet) gibt's sie alle.

Ciao, ALeX.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000151.html">[EasyFlash-devel] Steil bergauf
</A></li>
	<LI>Next message: <A HREF="000153.html">[EasyFlash-devel] Steil bergauf
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#152">[ date ]</a>
              <a href="thread.html#152">[ thread ]</a>
              <a href="subject.html#152">[ subject ]</a>
              <a href="author.html#152">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/easyflash-devel">More information about the EasyFlash-devel
mailing list</a><br>
</body></html>
