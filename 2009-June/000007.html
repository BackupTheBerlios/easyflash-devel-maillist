<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [EasyFlash-devel] Fast alle HW-Probleme gel&#246;st (?)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/easyflash-devel/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:easyflash-devel%40lists.berlios.de?Subject=Re%3A%20%5BEasyFlash-devel%5D%20%3D%3Futf-8%3Fq%3FFast_alle_HW-Probleme_gel%3DC3%3DB6st_%3D28%3F%3D%0A%09%3D%3Futf-8%3Fb%3FPyk%3D%3F%3D&In-Reply-To=%3C20090622001231.269e1981%40akoya%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000004.html">
   <LINK REL="Next"  HREF="000008.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[EasyFlash-devel] Fast alle HW-Probleme gel&#246;st (?)</H1>
    <B>Thomas Giesel</B> 
    <A HREF="mailto:easyflash-devel%40lists.berlios.de?Subject=Re%3A%20%5BEasyFlash-devel%5D%20%3D%3Futf-8%3Fq%3FFast_alle_HW-Probleme_gel%3DC3%3DB6st_%3D28%3F%3D%0A%09%3D%3Futf-8%3Fb%3FPyk%3D%3F%3D&In-Reply-To=%3C20090622001231.269e1981%40akoya%3E"
       TITLE="[EasyFlash-devel] Fast alle HW-Probleme gel&#246;st (?)">skoe at directbox.com
       </A><BR>
    <I>Mon Jun 22 00:12:31 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000004.html">[Easyflash-devel] C128 unter Kontrolle
</A></li>
        <LI>Next message: <A HREF="000008.html">[EasyFlash-devel] Testerei
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7">[ date ]</a>
              <a href="thread.html#7">[ thread ]</a>
              <a href="subject.html#7">[ subject ]</a>
              <a href="author.html#7">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hallo Martin, hallo alle,

Also, gestern haben Martin und ich Messungen am C128 und am C64
vorgenommen, um ein klares Bild &#252;ber Signale und Timing zu bekommen und
die Schaltung anzupassen.

Wir dachten schon, alle Probleme gel&#246;st und gefunden zu haben, da trat
ein neues auf - diesmal ging wieder was am C64 nicht.

Martin hat dann letzte Nacht noch &#196;nderungsvorschl&#228;ge per Mail
geschickt. Die sind auf alle F&#228;lle richtig und sinnvoll.

Den ganzen Abend hab ich mir einen Wolf nach einem Fehler gesucht, mehr
dazu weiter unten.

Eine klitzekleine &#196;nderung hab ich im Rahmen der Fehlersuche noch
eingebaut, die hat zwar den Fehler nicht gel&#246;st, aber mir trotzdem
Sinnvoll erscheint:
Bei zweiten Flipflop habe ich doch Phi2 auf Reset gelegt. Es kann
nicht schaden, /WE m&#246;glichst schnell nach Phi2=&gt;low abzuschalten.
Vielleicht h&#228;tte R/W daf&#252;r gesorgt, aber so sind wir auf der sicheren
Seite. (Schaltplan:
<A HREF="https://developer.berlios.de/docman/display_doc.php?docid=1938&amp;group_id=10970">https://developer.berlios.de/docman/display_doc.php?docid=1938&amp;group_id=10970</A>)

Also, erstmal das Fehlerbild am C64:
- Die Flash-IDs lie&#223;en sich immer problemlos auslesen
- Software lie&#223; sich scheinbar flashen
aber:
- Ganz einfaches Lesen vom Flash ging nur zu ca. 50%
- Bytes wurden entweder vollkommen richtig oder als $ff gelesen
- Andere Abstufungen (z.B. ein paar Bits gekippt) gab es nicht

Der Fehler verschwand, wenn ich /WE von den Flashs (nicht von den
Registern) von 02 entfernt und mit einem Pullup versehen habe.
Nat&#252;rlich konnte ich dann nur noch lesen.

Die Schreibzugriffe auf die Register (naja, das sind nicht viele)
funktionierten anscheinend immer.

Ich hab die Schaltung 100 mal durchdacht, gemessen u.s.w.

Ganz zum Schluss: Mal den 02er getauscht. Und jetzt geht's! Am C64 habe
ich ein kleines Modul geflashed (WoW), am C128 ein
gro&#223;es von Alex, ca. 400 kByte. Geht.

Lesen geht jetzt auch auf beiden Maschinen, auch WoW mit korrekter
Grafik.

Ich habe keine Ahnung, ob der Fehler damit zu tun hat, dass der alte IC
ein HCT02 war und der neue ein LS02. Aber das sollte nicht sein, die
sind eigentlich vollkommen kompatibel.

Also einen HC rein (nicht voll kompatibel, aber ich hatte keinen LS
mehr), geht auch nicht. Einen anderen LS rein, geht. HCT
wieder rein - geht?!! St&#252;tzkondensator dazu. HCT geht nicht mehr.
Grrrrr???!!! Ich messe jetzt nochmal alles durch, um sicher zu sein,
dass kein Eingang in der Luft h&#228;ngt. Habt ihr eine Idee?

Martin: Es kann sein, dass das Problem gestern abend auch schon mit dem
02 zu tun hatte. Das war der gleiche.

Wenn dieses kleine Problemchen nicht w&#228;re, w&#252;rde ich
vollkommen zufrieden sein.

Gru&#223;,

Thomas

P.S.: Heute habe ich mir im Wohnzimmer barfu&#223; eine 14-polige
Schaltkreisfassung eingetreten. Das war wohl die, die uns in der K&#252;che
runtergefallen ist und die wir nicht wiedergefunden haben. Riss im
Raum-Zeit-Kontinuum?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000004.html">[Easyflash-devel] C128 unter Kontrolle
</A></li>
	<LI>Next message: <A HREF="000008.html">[EasyFlash-devel] Testerei
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7">[ date ]</a>
              <a href="thread.html#7">[ thread ]</a>
              <a href="subject.html#7">[ subject ]</a>
              <a href="author.html#7">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/easyflash-devel">More information about the EasyFlash-devel
mailing list</a><br>
</body></html>
